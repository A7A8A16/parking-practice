# 项目记忆文件

## 项目信息
- **项目名称**: 飞驰人生3.5 - 马年春节特别版
- **技术栈**: Three.js + Cannon-es 物理引擎 + Vite
- **启动命令**: `npm run dev` 或 `npx vite --host`（局域网访问）
- **当前版本**: v1.0.1

## 用户偏好
- 使用中文进行交流
- 联系邮箱：williamff7@outlook.com

## 项目结构
- `src/` - 源代码目录
- `src/game/Game.js` - 游戏主逻辑（含触屏控制）
- `src/ui/Menu.js` - 菜单界面
- `src/ui/HUD.js` - 游戏内 HUD
- `public/` - 静态资源
- `success.mp3` / `fail.mp3` - 音效文件
- `index.html` - 主页面及 UI 样式

## 开发历史
- 2026-02-09: 项目初始化
- 2026-02-10:
  - 修复音效 bug：成功/失败音乐在点击"再试一次"或"返回菜单"时正确停止
  - UI 全面升级为赛车风格：
    - 新标题「极速驾考」+ 新副标题
    - 配色：氮气蓝 (#00F2FF) + 极速橙 (#FF5E00) + 碳素黑
    - 按钮改为平行四边形切角设计，带赛道路肩装饰和图标
    - 悬停霓虹发光效果，错位排列布局
    - 仪表盘改为赛车 UI 风格
    - 使用 Orbitron 字体
  - 新增触屏虚拟操控系统：
    - 左侧方向盘（滑动转向，带防滑纹理和"极速"Logo）
    - 右侧油门/刹车踏板（赛车踏板外形）
    - D/R 档位切换拨杆
    - 切换视角、重置位置功能按钮
    - 自动检测触屏设备，可手动切换
    - 透明度动态变化，避免遮挡视线

- 2026-02-13: **v1.0.1 - 马年春节特别版**
  - **游戏改名**：「极速驾考」→「飞驰人生3.5」
  - **首页春节主题改造**（仅菜单页面，保持游戏内赛车风格不变）：
    - 配色：中国红 (#DC143C) + 高级金 (#D4AF37) + 奶白背景
    - 设计风格：Apple 风格极简美学，毛玻璃效果 (backdrop-filter)
    - 视觉元素：
      - 🐎 马年 emoji 图标，带浮动动画
      - "大桥祝您新春愉快！" 祝福语，带呼吸动画
      - 副标题："马年新春，驰骋前行"
    - UI 组件：
      - 毛玻璃圆角按钮，悬停上浮效果
      - 右下角优雅联系卡片：williamff7@outlook.com
      - 使用 Noto Serif SC + Noto Sans SC 字体
  - **彩带飘落动效**：
    - 页面加载和返回菜单时触发
    - 120 个五彩彩带，自然物理飘落效果
    - 包含横向摆动、3D 旋转、随机漂移
    - 持续 2 秒，底部渐变消失
    - 使用 CSS GPU 加速，60fps 流畅运行
  - 技术实现：
    - 在 `Game.js` 和 `Menu.js` 中调用 `window.createConfetti()`
    - 彩带效果定义在 `index.html` 中的内联脚本
    - 添加调试日志便于排查

## 待办事项
<!-- 在此记录待完成的功能或修复 -->

## 备注
- 局域网测试地址：`http://192.168.1.133:5173/`（需同一 WiFi）
- Chrome 模拟触屏：F12 → Ctrl+Shift+M → 选择手机型号
- 如遇浏览器缓存问题，使用 Ctrl+Shift+R 硬刷新或无痕模式访问
